---
icon: pen-to-square
date: 2025-07-16
category:

tag:
     - 小知识

---

# 零散知识小记

## SpringBoot

### 注解

- `@Component` 和 `@Bean` 的区别：
  两者都是将某个 Bean 装配到 Spring 容器中，但应用场景不同。`@Component` 通常用于我们自己编写的类（如 Controller、Service 等），直接加在类上；而 `@Bean` 是用于方法上，方法返回的是要装配的对象，常用于配置类中装配第三方类或依赖（这些类无法直接加注解）。推荐在 `@Configuration` 标注的类中使用 `@Bean`，否则 Spring 不会自动识别注册。

- `@RestController` 和 `@Controller` 的区别：
  `@Controller` 用于传统的 MVC 开发，返回的是页面视图。如果要返回 JSON，需要额外加 `@ResponseBody`。而 `@RestController` 则用于前后端分离项目，默认将返回值写入响应体，适合构建 RESTful 接口。

- `@RequestBody`：用于将 HTTP 请求体（如 JSON、XML）的内容映射到 Java 对象。

- `@PathVariable`：用于从 URI 路径中提取参数值并映射到方法参数，适用于 RESTful 接口。

## Git

### `.gitattributes` 文件说明

`.gitattributes` 是一个用于告诉 Git 如何处理项目中文件的配置文件，特别适用于跨平台开发环境中处理换行符问题和二进制文件差异比较。

#### 文本文件处理

```text
* text=lf
*.sh text
*.md text
```

- `* text=lf`：对所有文件启用文本归一化，Git 会将换行符统一转换为 LF（Unix 风格）。
- `*.sh text` 和 `*.md text`：指定 `.sh` 和 `.md` 文件也作为文本处理。

> Windows 使用 CRLF（\r\n），Unix/Linux/macOS 使用 LF（\n），统一换行符可避免冗余 diff。

#### 二进制文件处理

```text
*.png binary
*.jepg binary
```

- 指定 `.png` 和 `.jepg` 文件为二进制类型（应改为 `.jpeg`）。
- `binary` 相当于 `-text -diff`，不做换行符处理，也不显示 diff 差异。

### `git rebase -i` 命令说明

`git rebase -i`（交互式 rebase）用于整理提交历史，特别适合合并多个临时提交。

#### 常用命令：

| 命令     | 说明                                                    |
|----------|---------------------------------------------------------|
| `pick`   | 保留该提交                                              |
| `squash` | 将该提交合并入上一个 `pick` 提交，允许修改提交信息     |
| `fixup`  | 同 `squash`，但直接丢弃该提交信息                       |
| `reword` | 保留提交，但允许修改该提交信息                          |
| `edit`   | 停在该提交供你修改内容（如代码修复）                    |
| `drop`   | 删除该提交                                              |

#### 示例：

合并最近 5 条提交：

```bash
git rebase -i HEAD~5
```

修改弹出的提交列表，把第二条及以后的 `pick` 改为 `squash` 或 `fixup`，保存后编辑合并提交说明。

#### 推送变更：

```bash
git push -f
```

由于 rebase 修改了历史，需强制推送（注意与团队协作沟通）。

---

通过 `.gitattributes` 和 `git rebase -i`，我们可以更规范地管理提交历史和文件处理规则，提升协作效率。
